<!DOCTYPE html>
<html lang="en">

<head>
	<%- include('partials/head'); %>
		<header>
			<div class="image">
				<a href="/" , title="Inicio">
					<img src="/img/Logo_Mysky_Javi.png" alt="Inicio" width="140" height="100">
				</a>
			</div>
			<div class="texto">Crear cuenta en My Sky</div>
		</header>
		<title>Registro</title>
</head>

<body class="body">
	<div class="tituloDescriptivo">
		Rellene el formulario para crear una cuenta en My Sky.
	</div>
	<div class="container">
		<div class="col-sm-6 mx-auto">
			<div class="card mt-5">
				<div class="card-body">
					<div id="error" class="alert alert-danger ocultar" role="alert">
						Las Contraseñas no coinciden. Intentelo de nuevo.
					</div>
					<div id="ok" class="alert alert-success ocultar" role="alert">
						Registro completado. Procesando...
					</div>
					<!-- Si existe algun error, me lo muestra -->
					<% if (message.length) { %>
						<div class="alert alert-danger" role="alert">
							<%= message %>
						</div>
						<% } %>
							<form id="formSignUp" onsubmit="verificarPasswords(); return false" action="/signup"
								method="POST">
								<div class="form-group">
									<input type="email" name="email" placeholder="email" required="required"
										class="form-control"></input>
								</div>
								<div class="form-group">
									<label for="pass1"></label>
									<input id="pass1" type="password" name="password1" placeholder="Contraseña"
										required="required" class="form-control"></input>
								</div>
								<div class="form-group">
									<label for="pass2"></label>
									<input id="pass2" type="password" name="password" placeholder="Repita contraseña"
										required="required" class="form-control"></input>
								</div>
								<!--
								<div id="error" class="alert alert-danger ocultar" role="alert">
									Las Contraseñas no coinciden, vuelve a intentar !
								</div>
								<div id="ok" class="alert alert-success ocultar" role="alert">
									Las Contraseñas coinciden ! (Procesando formulario ... )
								</div>
								-->
								<script type="text/javascript">

									function verificarPasswords() {

										// Ontenemos los valores de los campos de contraseñas 
										pass1 = document.getElementById('pass1');
										pass2 = document.getElementById('pass2');

										// Verificamos si las constraseñas no coinciden 
										if (pass1.value != pass2.value) {

											// Si las constraseñas no coinciden mostramos un mensaje 
											document.getElementById("error").classList.add("mostrar");

											return false;
										}

										else {

											// Si las contraseñas coinciden ocultamos el mensaje de error
											document.getElementById("error").classList.remove("mostrar");
											// Mostramos un mensaje mencionando que las Contraseñas coinciden 
											document.getElementById("ok").classList.remove("ocultar");

											// Desabilitamos el botón de login 
											document.getElementById("login").disabled = true;
											return true;
										}

									}

								</script>
								<div style="text-align:center;">
									<input type="submit" value="Aceptar" class="btn btn-dark btn-lg">
								</div>
							</form>
							<hr>
							<div class="text-center">
								<p>¿Tienes ya una cuenta? <a href="/login">Inicia sesion</a></p>
								<p>Volver a <a href="/">inicio</a></p>
							</div>
				</div>
			</div>
		</div>
	</div>
	<br><br><br>
	<footer id="main-footer">
		<p>Copyright &copy;2021 | Designed by <a href="https://github.com/JvRdgz">Javier Rodriguez Montero</a></p>
	</footer>
</body>

</html>